---
// Cultural Tour Page (Chinese Version) - Simplified with direct Google Form submission
import Layout from "../layouts/Layout.astro";
---

<Layout title="杭州文化一日游 - GOSIM 2025" description="2025年9月11日杭州国际开源会议嘉宾一日游 - 西湖手摇船、博物馆、美食体验">
  <main>
    <!-- Hero Section -->
    <section class="hero-section">
      <div class="hero-background">
        <img src="/xihu-guest-house.png" alt="西湖美景" class="hero-image">
        <div class="hero-overlay"></div>
      </div>
      <div class="hero-content">
        <div class="hero-badges">
          <span class="badge">2025年9月11日（四） · 杭州 · 西湖</span>
          <span class="badge">06:30 酒店集合 · 07:00 登船 · 11:30 午餐</span>
          <span class="badge">下午活动选项 · 晚上演出/夜游 · 返回酒店</span>
        </div>
        <h1 class="hero-title">杭州国际开源会议嘉宾一日游</h1>
        <p class="hero-subtitle">清晨手摇船 · 私享西湖 · 中英导览</p>
      </div>
    </section>

    <!-- Simplified Registration Form -->
    <section class="registration-section">
      <div class="container">
        <div class="registration-card">
          <h2>报名参加一日游</h2>
          <p class="registration-subtitle">请填写您的信息以确认参与</p>
          
          <!-- Direct Google Form Submission -->
          <form 
            id="cultural-tour-form" 
            action="https://docs.google.com/forms/d/e/1FAIpQLSf3dqBnDy8RsIBkoj6EkxDYPvaBbujUEI7tCyDgd3VMwjTLNg/formResponse" 
            method="POST" 
            target="hidden_iframe"
            class="registration-form"
          >
            <div class="form-group">
              <label for="name">姓名 *</label>
              <input 
                type="text" 
                id="name" 
                name="entry.1792155962" 
                required 
                placeholder="请输入您的姓名"
                class="form-input"
              >
            </div>
            
            <div class="form-group">
              <label for="email">邮箱</label>
              <input 
                type="email" 
                id="email" 
                name="entry.1954615972" 
                placeholder="请输入您的邮箱地址"
                class="form-input"
              >
            </div>
            
            <div class="form-group">
              <label for="phone">手机号码</label>
              <input 
                type="tel" 
                id="phone" 
                name="entry.636412973" 
                placeholder="请输入您的手机号码"
                class="form-input"
              >
            </div>
            
            <div class="form-group">
              <label for="organization">机构/公司</label>
              <input 
                type="text" 
                id="organization" 
                name="entry.1965499526" 
                placeholder="请输入您的机构或公司名称"
                class="form-input"
              >
            </div>
            
            <div class="form-group">
              <label>下午活动选择</label>
              <div class="radio-group">
                <label class="radio-option">
                  <input type="radio" name="entry.1403219245" value="City Walk (Museums + Shopping)">
                  <span>City Walk（博物馆 + 购物）</span>
                </label>
                <label class="radio-option">
                  <input type="radio" name="entry.1403219245" value="Light Hiking (Bamboo Path + Temple)">
                  <span>轻徒步（竹径 + 古寺）</span>
                </label>
              </div>
            </div>
            
            <div class="form-group">
              <label>晚上活动选择</label>
              <div class="radio-group">
                <label class="radio-option">
                  <input type="radio" name="entry.410721717" value="Live Performance (Impression West Lake)">
                  <span>实景演出（印象西湖）</span>
                </label>
                <label class="radio-option">
                  <input type="radio" name="entry.410721717" value="Night Tour (Historical Streets + Music Fountain)">
                  <span>夜游（御街 + 夜市 + 音乐喷泉）</span>
                </label>
              </div>
            </div>
            
            <div class="form-group">
              <label for="dietary">饮食限制/过敏信息</label>
              <textarea 
                id="dietary" 
                name="entry.1676644653" 
                placeholder="请告知任何饮食限制、过敏或特殊需求"
                class="form-input"
                rows="3"
              ></textarea>
            </div>
            
            <div class="form-group">
              <label for="emergency_contact">紧急联系人及电话</label>
              <input 
                type="text" 
                id="emergency_contact" 
                name="entry.870922209" 
                placeholder="姓名 + 电话号码"
                class="form-input"
              >
            </div>
            
            <div class="form-group">
              <label>交通需求</label>
              <div class="radio-group">
                <label class="radio-option">
                  <input type="radio" name="entry.1315373062" value="Need hotel pickup">
                  <span>需要酒店接送</span>
                </label>
                <label class="radio-option">
                  <input type="radio" name="entry.1315373062" value="Will go to meeting point myself">
                  <span>自行前往集合点</span>
                </label>
              </div>
            </div>
            
            <div class="form-group">
              <label for="special_requests">特殊需求/备注</label>
              <textarea 
                id="special_requests" 
                name="entry.863109825" 
                placeholder="任何特殊需求或其他备注"
                class="form-input"
                rows="3"
              ></textarea>
            </div>
            
            
            <div class="form-actions">
              <button type="submit" class="submit-btn">
                提交报名
              </button>
            </div>
          </form>
          
          <!-- Success message outside the form -->
          <div id="success-message" class="success-message" style="display: none;">
            <div class="success-content">
              <div class="success-icon">✓</div>
              <h3>报名提交成功！</h3>
              <p>我们已收到您的报名信息，会尽快与您联系确认详情。</p>
            </div>
          </div>
          
          <!-- Hidden iframe for form submission -->
          <iframe name="hidden_iframe" style="display:none;"></iframe>
        </div>
      </div>
    </section>
  </main>

  <style>
    /* Hero Section */
    .hero-section {
      position: relative;
      height: 60vh;
      min-height: 500px;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    .hero-background {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -2;
    }

    .hero-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .hero-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(
        135deg,
        rgba(0, 0, 0, 0.4) 0%,
        rgba(0, 0, 0, 0.2) 100%
      );
      z-index: -1;
    }

    .hero-content {
      text-align: center;
      color: white;
      max-width: 800px;
      padding: 2rem;
      z-index: 1;
    }

    .hero-badges {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      justify-content: center;
      margin-bottom: 2rem;
    }

    .badge {
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(10px);
      padding: 0.5rem 1rem;
      border-radius: 25px;
      font-size: 0.9rem;
      font-weight: 500;
      border: 1px solid rgba(255, 255, 255, 0.3);
    }

    .hero-title {
      font-size: 3rem;
      font-weight: 700;
      margin-bottom: 1rem;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    }

    .hero-subtitle {
      font-size: 1.3rem;
      font-weight: 300;
      opacity: 0.9;
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    }

    /* Registration Section */
    .registration-section {
      padding: 4rem 0;
      background: #f8fafc;
    }

    .container {
      max-width: 600px;
      margin: 0 auto;
      padding: 0 2rem;
    }

    .registration-card {
      background: white;
      border-radius: 16px;
      padding: 3rem;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
      text-align: center;
    }

    .registration-card h2 {
      font-size: 2rem;
      font-weight: 700;
      color: #1e293b;
      margin-bottom: 0.5rem;
    }

    .registration-subtitle {
      color: #64748b;
      font-size: 1.1rem;
      margin-bottom: 2rem;
    }

    .registration-form {
      text-align: left;
    }

    .form-group {
      margin-bottom: 2rem;
    }

    .form-group label {
      display: block;
      font-weight: 600;
      color: #374151;
      margin-bottom: 0.5rem;
      font-size: 1rem;
    }

    .form-input {
      width: 100%;
      padding: 1rem;
      border: 2px solid #e5e7eb;
      border-radius: 8px;
      font-size: 1rem;
      transition: all 0.3s ease;
      background: white;
    }

    .form-input:focus {
      outline: none;
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }

    textarea.form-input {
      resize: vertical;
      min-height: 80px;
      font-family: inherit;
    }

    .radio-group, .checkbox-group {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
      margin-top: 0.5rem;
    }

    .radio-option, .checkbox-option {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.75rem;
      border: 2px solid #e5e7eb;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      background: white;
    }

    .radio-option:hover, .checkbox-option:hover {
      border-color: #3b82f6;
      background: #f8fafc;
    }

    .radio-option input, .checkbox-option input {
      width: 18px;
      height: 18px;
      margin: 0;
      cursor: pointer;
    }

    .radio-option input:checked + span, .checkbox-option input:checked + span {
      font-weight: 600;
      color: #3b82f6;
    }

    .radio-option:has(input:checked), .checkbox-option:has(input:checked) {
      border-color: #3b82f6;
      background: #eff6ff;
    }

    .radio-option span, .checkbox-option span {
      flex: 1;
      font-size: 1rem;
      color: #374151;
    }

    .form-actions {
      text-align: center;
      margin-top: 2rem;
    }

    .submit-btn {
      background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
      color: white;
      border: none;
      padding: 1rem 3rem;
      font-size: 1.1rem;
      font-weight: 600;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .submit-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
    }

    .submit-btn:active {
      transform: translateY(0);
    }

    .success-message {
      margin-top: 2rem;
      padding: 2rem;
      background: #f0fdf4;
      border: 2px solid #22c55e;
      border-radius: 12px;
      text-align: center;
    }

    .success-content {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .success-icon {
      width: 60px;
      height: 60px;
      background: #22c55e;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      color: white;
      margin-bottom: 1rem;
    }

    .success-message h3 {
      color: #166534;
      margin-bottom: 0.5rem;
      font-size: 1.5rem;
    }

    .success-message p {
      color: #15803d;
      font-size: 1rem;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .hero-title {
        font-size: 2rem;
      }

      .hero-subtitle {
        font-size: 1.1rem;
      }

      .badge {
        font-size: 0.8rem;
        padding: 0.4rem 0.8rem;
      }

      .registration-card {
        padding: 2rem;
        margin: 0 1rem;
      }

      .container {
        padding: 0 1rem;
      }
    }
  </style>

  <script>
    // Handle form submission and show success message
    document.getElementById('cultural-tour-form').addEventListener('submit', function(e) {
      // Allow the form to submit to Google Forms
      setTimeout(function() {
        // Show success message after a brief delay
        document.getElementById('success-message').style.display = 'block';
        // Hide the entire form including title and subtitle
        document.getElementById('cultural-tour-form').style.display = 'none';
        // Also hide the title and subtitle
        var formTitle = document.querySelector('.registration-card h2');
        var formSubtitle = document.querySelector('.registration-subtitle');
        if (formTitle) formTitle.style.display = 'none';
        if (formSubtitle) formSubtitle.style.display = 'none';
      }, 1000);
    });
  </script>
</Layout>